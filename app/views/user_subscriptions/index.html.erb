<script src="https://js.stripe.com/v3/"></script>

<% # https://stripe.com/docs/billing/subscriptions/cards %>

<% if @user_subscription.subscribed? %>
  <%= form_for @user_subscription, method: "delete", url: subscribe_user_subscriptions_path do |f| %>
    <div id="card-element" class="MyCardElement">
      <% # Elements will create input elements here %>
    </div>
    <div id="card-errors" role="alert"></div>
    <%= f.submit "購読を解除する" %>
  <% end %>
<% else %>
  <%= form_for @user_subscription, method: "post", url: subscribe_user_subscriptions_path do |f| %>
    <div id="card-element" class="MyCardElement">
      <% # Elements will create input elements here %>
    </div>
    <div id="card-errors" role="alert"></div>
    <%= f.submit "月額課金1,000円" %>
  <% end %>
<% end %>

